/**********************************************************************
 * GasModule.cpp
 * 
 * Implementation of the MQ135 gas sensor module class.
 * 
 * Author: Cyril Marx
 * Created: September 2022
 **********************************************************************/

#include "GasModule.hpp"

GasModule::GasModule(uint8_t analog_pin) :
gas_ppm_(0),
rzero_(0),
module_object_(analog_pin)
{
  time_list_[0] = 13;
  setMaxSteps(1);
}

//-----------------------------------------------------------------------------------------------------------------
void GasModule::initModule()
{
  rzero_ = module_object_.getRZero();
}

//-----------------------------------------------------------------------------------------------------------------
float GasModule::getGasPPM()
{
  return gas_ppm_;
}

//-----------------------------------------------------------------------------------------------------------------
void GasModule::stepOne()
{
  gas_ppm_ = module_object_.getPPM();
}

//-----------------------------------------------------------------------------------------------------------------
void GasModule::stepTwo()
{
  // Not used.
}

//-----------------------------------------------------------------------------------------------------------------
void GasModule::stepThree()
{
  // Not used.
}

//-----------------------------------------------------------------------------------------------------------------
void GasModule::stepFour()
{
  // Not used.
}
